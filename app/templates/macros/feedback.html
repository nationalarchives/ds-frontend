{%- from 'components/button/macro.html' import tnaButton -%}
{%- from 'components/textarea/macro.html' import tnaTextarea -%}

{% macro feedback() %}
<form id="feedback" action="{{ url_for('feedback.submit', return=request.full_path) }}" method="post" class="tna-container tna-container--centred tna-section">
  <div class="tna-column tna-column--width-3-4 tna-column--width-2-3-medium tna-column--full-small tna-column--full-tiny">
    <input type="hidden" name="index" value="{{ request.args.get('feedback_index') or 1 }}">
    <div class="etna-feedback"{{ '' if not request.args.get('feedback_index') or request.args.get('feedback_index') == '1' else ' hidden' }}>
      <h2 class="tna-heading-s">What did you think of this page?</h2>
      <div class="tna-button-group tna-button-group--full">
        {{ tnaButton({
          'text': 'Easy to use',
          'icon': 'thumbs-up',
          'buttonElement': True,
          'buttonType': 'submit',
          'attributes': {
            'name': 'question-1',
            'value': 'easy'
          }
        }) }}
        {{ tnaButton({
          'text': 'Hard to use',
          'icon': 'thumbs-down',
          'buttonElement': True,
          'buttonType': 'submit',
          'attributes': {
            'name': 'question-1',
            'value': 'hard'
          }
        }) }}
      </div>
    </div>
    <div class="etna-feedback"{{ '' if request.args.get('feedback_index') == '2' else ' hidden' }}>
      <h2 class="tna-heading-s">How interesting is this page?</h2>
      <div class="tna-button-group tna-button-group--full">
        {{ tnaButton({
          'text': '1',
          'buttonElement': True,
          'buttonType': 'submit',
          'attributes': {
            'name': 'question-2',
            'value': 1
          }
        }) }}
        {{ tnaButton({
          'text': '2',
          'buttonElement': True,
          'buttonType': 'submit',
          'attributes': {
            'name': 'question-2',
            'value': 2
          }
        }) }}
        {{ tnaButton({
          'text': '3',
          'buttonElement': True,
          'buttonType': 'submit',
          'attributes': {
            'name': 'question-2',
            'value': 3
          }
        }) }}
        {{ tnaButton({
          'text': '4',
          'buttonElement': True,
          'buttonType': 'submit',
          'attributes': {
            'name': 'question-2',
            'value': 4
          }
        }) }}
        {{ tnaButton({
          'text': '5',
          'buttonElement': True,
          'buttonType': 'submit',
          'attributes': {
            'name': 'question-2',
            'value': 5
          }
        }) }}
      </div>
    </div>
    <div class="etna-feedback"{{ '' if request.args.get('feedback_index') == '3' else ' hidden' }}>
      {{ tnaTextarea({
        'label': 'Any other thoughts?',
        'headingLevel': 2,
        'headingSize': 's',
        'id': 'feedback-question-3',
        'name': 'question-3'
      }) }}
      <div class="tna-button-group tna-button-group--full">
        {{ tnaButton({
          'text': 'Submit',
          'buttonElement': True,
          'buttonType': 'submit'
        }) }}
      </div>
    </div>
    <div class="etna-feedback"{{ '' if request.args.get('feedback_index') == '4' else ' hidden' }}>
      <h2 class="tna-heading-s">Feedback</h2>
      <p>Thank you for your feedback</p>
    </div>
  </div>
</form>
{% endmacro %}
